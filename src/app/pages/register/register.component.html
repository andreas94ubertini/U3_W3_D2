<!--ngSubmit scatena update() ad ogni submit del form-->
<div class="container p-5">
  <h1>Inserisci dati </h1>
  <form (ngSubmit)="submit(form)" #form="ngForm">

    <div class="form-group">

      <input type="text" #name="ngModel" ngModel class="form-control"
             placeholder="Il tuo nome" required name="nome">

      <span *ngIf="name.invalid && name.touched">Devi inserire il nome</span>
    </div>

    <div class="form-group">
      <input type="text" #cognome="ngModel" ngModel class="form-control"
             placeholder="Il tuo cognome" name="cognome">
      <span *ngIf="cognome.invalid && cognome.touched">Devi inserire il cognome</span>
    </div>
    <div class="form-group">
      <input type="text" #username="ngModel" ngModel class="form-control"
             placeholder="Username" name="username">
      <span *ngIf="cognome.invalid && cognome.touched">Devi inserire la username</span>
    </div>

    <div ngModelGroup="authData" class="form-row row" #authGroup="ngModelGroup">


      <div class="form-group col-12 d-flex">

        <input type="password" #password="ngModel" required ngModel class="form-control"
               placeholder="La tua password" name="password">
        <input type="password" #password2="ngModel" required ngModel class="form-control"
               placeholder="Ripeti password" name="password2">
<!--        <span *ngIf="password !== password2">Password non corrispondenti</span>-->
      </div>

      <span *ngIf="authGroup.invalid && authGroup.touched">Dati non corretti</span>
    </div>

    <div class="form-row row">
      <div class="form-group col-6">

        <select name="city" ngModel class="form-control">
          <option value="">--scegli citt√†--</option>
          <option value="milano">Milano</option>
          <option value="roma">Roma</option>
          <option value="napoli">Napoli</option>
        </select>
      </div>

      <div class="form-group col-6">

        <input type="file" ngModel class="form-control"
               name="profile-pic">
        <span></span>

      </div>
      <div class="form-group col-12">

        <textarea placeholder="Biografia"></textarea>

      </div>


      <div class="form-group">

        <div class="form-check">

          <div *ngFor="let genere of generi">
            <label class="form-check-label" [for]="genere">{{genere}}</label>

            <input type="radio"
                   [id]="genere" [value]="genere"
                   ngModel name="genere" class="form-check-input">
          </div>

        </div>

      </div>

    </div>


    <button [disabled]="form.invalid" class="btn btn-success">Registrati</button>

  </form>
</div>
